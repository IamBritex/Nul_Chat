/* --- MENSAJES CONTAINER --- */
.messages-container {
    flex: 1;
    padding: 20px 16px;
    display: flex;
    flex-direction: column;
    gap: 2px; 
    overflow-y: auto;
    -webkit-overflow-scrolling: touch; 
}

/* --- BURBUJAS --- */
.message-row {
    display: flex;
    margin-bottom: 8px;
    flex-shrink: 0;
}

.message-bubble {
    max-width: 75%;
    padding: 8px 14px;
    border-radius: 16px;
    position: relative;
    font-size: 0.95rem;
    line-height: 1.4;
    background-color: var(--bg-tertiary);
    color: var(--text-primary);
}

.message-row.sent {
    justify-content: flex-end;
}

.message-row.sent .message-bubble {
    border-bottom-right-radius: 2px;
}

.message-row.received {
    justify-content: flex-start;
}

.message-row.received .message-bubble {
    border-bottom-left-radius: 2px;
}

/* --- META INFO (Hora + Bolitas) --- */
.message-meta {
    display: flex;
    align-items: center;
    justify-content: flex-end;
    gap: 4px; /* Espacio entre hora y el bloque de bolitas */
    margin-top: 2px;
    min-height: 14px;
    line-height: 1;
}

.time {
    font-size: 0.65rem;
    opacity: 0.6;
}

/* --- STATUS DOTS (Bolitas Superpuestas) --- */
.status-dots {
    display: flex;
    align-items: center;
    height: 12px; /* Altura fija para alineación */
    padding-left: 2px; /* Pequeño respiro visual */
}

/* Estilo base de cada bolita (icono) */
.status-dots i {
    font-size: 0.55rem; /* Tamaño de la bolita */
    
    /* El truco del borde: */
    border: 1.5px solid var(--bg-tertiary); /* Borde del mismo color que el fondo del chat */
    border-radius: 50%; /* Borde redondo */
    background-color: var(--bg-tertiary); /* Fondo para tapar a la bolita de atrás */
    
    /* Para que no se deformen */
    display: flex;
    align-items: center;
    justify-content: center;
    width: 0.7rem; 
    height: 0.7rem;
    box-sizing: content-box; /* Asegura que el borde sume al tamaño */
}

/* La segunda bolita se monta sobre la primera */
.status-dots i:nth-child(2) {
    margin-left: -8px; /* Superposición agresiva ("mucho mucho más juntitas") */
    position: relative;
    z-index: 2; /* Queda encima */
}

/* Colores de estado */
.status-dots.pending { color: var(--text-muted); }     /* Gris oscuro (reloj/pendiente) */
.status-dots.sent { color: var(--text-secondary); }    /* Gris claro (enviado) */
.status-dots.read { color: #3498db; }                  /* Azul (leído) */
.status-dots.error { color: var(--danger-color); }     /* Rojo (error) */

/* --- SEPARADORES DE FECHA --- */
.date-separator {
    display: flex;
    justify-content: center;
    margin: 24px 0;
    position: relative;
    flex-shrink: 0;
}

.date-separator span {
    background-color: var(--bg-tertiary);
    color: var(--text-secondary);
    font-size: 0.75rem;
    padding: 4px 12px;
    border-radius: 12px;
    font-weight: 500;
}

/* --- EMPTY STATE --- */
.empty-state {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    color: var(--text-muted);
    opacity: 0.5;
    min-height: 200px;
}

.empty-icon {
    font-size: 3rem;
    margin-bottom: 10px;
}